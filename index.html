<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SC Screen Recorder</title>
  <link rel='icon' type='image/png' href='/favicon.png'>
  <link href="index.css" rel="stylesheet" />
</head>

<body>

  <!-- Canvas app -->
  <div id="my-canvas-container">
    <canvas 
      id="my-canvas" 
      data-scrawl-canvas 
      data-is-responsive="true"
      data-base-width="854"
      data-base-height="480"
      data-base-background-color="white"
      data-fit="contain"
    >
      <div id="image-hold" aria-hidden="true"></div>
    </canvas>
  </div>

  <!-- User control bar buttons - these will open up modals -->
  <div id="control-buttons">
    <a href="https://github.com/KaliedaRik/sc-screen-recorder" target="_BLANK">Instructions</a>
    <button id="targets-modal-button">Cannot get targets</button>
    <button id="head-toggle">Cannot show head</button>
    <button id="video-toggle" disabled>Cannot record video</button>
    <button id="dimensions-modal-button" disabled>Cannot change dimensions</button>
    <button id="background-modal-button" disabled>Cannot change background</button>
  </div>

  <!-- Target management modal -->
  <dialog id='targets-modal' closedby="any">
    <button id="targets-modal-close" autofocus class="close">Close</button>
    <h2>Targets management</h2>
    <div>
      <button id="target-request-button">Request screen capture</button>
    </div>
  </dialog>

  <!-- Background images modal -->
  <dialog id='background-modal' closedby="any">
    <button id="background-modal-close" autofocus class="close">Close</button>
    <h2>Background color management</h2>
    <p><label id="background-color-button" for="background-color-input">Change background color</label> <input id="background-color-input" type="color" value="#000000"></p>
    <h2>Background image management</h2>
    <p>Add a background image by dragging it onto the browser window</p>
    <p>Alternatively, <label id="background-upload-button" for="background-upload">browse for image files to display:</label> <input type="file" id="background-upload" name="background-upload" accept="image/png, image/jpeg, image/jpg, image/webp" multiple></p>
    <p><button id='background-image-hide'>Hide background image</button></p>
    <h3>Recent uploads</h3>
    <p>Click on an image to use it:</p>
    <div id="background-image-hold"></div>
  </dialog>

  <!-- Talking head capture modal -->

  <!-- Canvas dimensions modal -->
  <dialog id='dimensions-modal' closedby="any">
    <button id="dimensions-modal-close" autofocus class="close">Close</button>
    <h2>Canvas dimensions</h2>
    <div class="selector">
      <label for="video-dimensions">Dimensions:</label>
      <select id="video-dimensions">
        <option value="landscape_1080">Landscape 1080</option>
        <option value="landscape_720">Landscape 720</option>
        <option value="landscape_480">Landscape 480</option>
        <option value="square_1080">Square 1080</option>
        <option value="square_720">Square 720</option>
        <option value="square_480">Square 480</option>
        <option value="portrait_1080">Portrait 1080</option>
        <option value="portrait_720">Portrait 720</option>
        <option value="portrait_480">Portrait 480</option>
      </select>
    </div>
  </dialog>

  <!-- Video capture modal -->

  <!-- Video download modal -->

  <!-- 
    This is the mediapipe code, for getting the user's face into the screen capture video

    mediapipe-camera-utils.js - taken from https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js on 3 May 2025. Copyright The Closure Library Authors. SPDX-License-Identifier: Apache-2.0

    mediapipe-selfie-segmentation.js - taken from https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js on 3 May 2025. Copyright The Closure Library Authors. SPDX-License-Identifier: Apache-2.0
  -->
  <script src="js/mediapipe-camera-utils.js"></script>
  <script src="js/mediapipe-selfie-segmentation.js"></script>

  <!-- Page functionality code -->
  <script type="module" src="index.js"></script>
</body>
</html>
